//======================================================================================================================
//
//	ジャンクヘッダー [junk.h]
//	Author：小原立暉
//
//======================================================================================================================
#ifndef _JUNK_H_						// このマクロ定義がされていない場合
#define _JUNK_H_						// 二重インクルード防止のマクロを定義する

//**********************************************************************************************************************
//	インクルードファイル
//**********************************************************************************************************************
#include "model.h"
#include "main.h"

//**********************************************************************************************************************
//	マクロ定義
//**********************************************************************************************************************
#define MAX_JUNK		(1024)			// 使用するモデル数 (オブジェクトの最大数)

//**********************************************************************************************************************
//	列挙型定義 (JUNKSTATE)
//**********************************************************************************************************************
typedef enum
{
	JUNKSTATE_NONE = 0,					// 通常状態
	JUNKSTATE_DELETE,					// 消去状態
	JUNKSTATE_MAX						// この列挙型の総数
}JUNKSTATE;

//**********************************************************************************************************************
//	列挙型定義 (SCALETYPE)
//**********************************************************************************************************************
typedef enum
{
	SCALETYPE_SMALL = 0,				// 小さいがれき
	SCALETYPE_NORMAL,					// 普通のがれき
	SCALETYPE_BIG,						// 大きいがれき
	SCALETYPE_MAX						// この列挙型の総数
}SCALETYPE;

//**********************************************************************************************************************
//	構造体定義 (Junk)
//**********************************************************************************************************************
typedef struct
{
	D3DXVECTOR3  pos;					// 位置
	D3DXVECTOR3	 move;					// 移動量
	D3DXVECTOR3	 scale;					// 拡大率
	D3DXVECTOR3  scaleMove;				// 拡大率の移動量
	D3DXVECTOR3  rot;					// 向き
	D3DXVECTOR3	 rotMove;				// 向きの移動量
	D3DXMATRIX   mtxWorld;				// ワールドマトリックス
	Model        modelData;				// モデル情報
	D3DXMATERIAL matCopy[MAX_MATERIAL];	// マテリアルのコピー
	JUNKSTATE	 state;					// 状態
	int          nShadowID;				// 影のインデックス
	bool         bUse;					// 使用状況
}Junk;

//**********************************************************************************************************************
//	プロトタイプ宣言
//**********************************************************************************************************************
void InitJunk(void);					// がれきの初期化処理
void UninitJunk(void);					// がれきの終了処理
void UpdateJunk(void);					// がれきの更新処理
void DrawJunk(void);					// がれきの描画処理
void SetJunk(D3DXVECTOR3 pos, D3DXVECTOR3 rot, SCALETYPE scale, D3DMATERIAL9 col);	// がれきの設定処理

//**********************************************************************************************************************
//	プロトタイプ宣言 (デバッグ用)
//**********************************************************************************************************************
int GetNumJunk(void);			// オブジェクトの総数取得処理

#endif