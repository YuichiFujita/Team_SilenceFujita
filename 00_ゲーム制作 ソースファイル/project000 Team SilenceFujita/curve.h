//======================================================================================================================
//
//	カーブヘッダー [curve.h]
//	Author：小原立暉
//
//======================================================================================================================
#ifndef _CURVE_H_						// このマクロ定義がされていない場合
#define _CURVE_H_						// 二重インクルード防止のマクロを定義する

//**********************************************************************************************************************
//	インクルードファイル
//**********************************************************************************************************************
#include "main.h"
#include "model.h"

//**********************************************************************************************************************
//	マクロ定義
//**********************************************************************************************************************
#define MAX_CURVE		(10)		// 曲がれる最大数

//**********************************************************************************************************************
//	曲がり角で曲がる角度
//**********************************************************************************************************************
typedef enum
{
	CURVE_RIGHT = 0,					//右に曲がる
	CURVE_LEFT,							//左に曲がる
	CURVE_MAX							//この列挙型の総数
}CURVEANGLE;

//**********************************************************************************************************************
//	曲がり角の構造体
//**********************************************************************************************************************
typedef struct
{
	D3DXVECTOR3 curvePoint[MAX_CURVE];	// 曲がるポイント
	CURVEANGLE  curveAngle[MAX_CURVE];	// 曲がる方向
	int nNowCurve;						// 現在の曲がり角
	int nCurveTime;						// 曲がる回数
	int fCurveRot[MAX_CURVE];			// 目標の向き
	bool bCurveX[MAX_CURVE];			// X軸上を走っているかどうか
	bool bCurvePlus[MAX_CURVE];			// 座標上で＋方向に進んでいるかどうか
}CURVE;

//**********************************************************************************************************************
//	プロトタイプ宣言
//**********************************************************************************************************************
void SetCurvePoint(CURVE *pCurve, D3DXVECTOR3 *rot, D3DXVECTOR3 *pos);

#endif